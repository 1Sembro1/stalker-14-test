- type: entity
  parent: BaseMobMutant
  id: STMobMutantMegaBoar
  name: великий кабан
  description: A large and aggressive mutant beast, mutated from a wild boar. A beast weighing three hundred kilos is not your toy!
  components:
    - type: Damageable
      damageModifierSet: STMutantBoarDamageModifierSet
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 25000
          behaviors:
            - !type:DoActsBehavior
              acts: ["Destruction"]
    - type: DamageStateVisuals
      states:
        Alive:
          Base: boar
        Critical:
          Base: dead
        Dead:
          Base: dead
    - type: Fixtures
      fixtures:
        fix1:
          shape:
            !type:PhysShapeCircle
            radius: 2
          density: 1000
          mask:
            - MobMask
          layer:
            - MobLayer
    - type: FootstepModifier
      footstepSoundCollection:
        path: /Audio/_Stalker/Mutants/step_hoof_asphalt5.ogg
        params:
          volume: 0
          variation: 0.3
    - type: MobThresholds
      thresholds:
        0: Alive
        999999999: Dead
    - type: MeleeWeapon
      attackRate: 0.1
      heavyWindupModifier: 1
      heavyDamageModifier: 1.5
      angle: 30
      range: 1.5
      soundHit:
        path: /Audio/_Stalker/Mutants/boar_attack_1.ogg
        params:
          variation: 0.125
      soundSwing:
        path: /Audio/_Stalker/Mutants/boar_aggressive_3.ogg
        params:
          variation: 0.125
      animation: WeaponArcClaw
      wideAnimation: WeaponArcClaw
      damage:
        types:
          Blunt: 41
    - type: MovementSpeedModifier
      baseWalkSpeed: 2
      baseSprintSpeed: 2
    - type: Sprite
      layers:
        - map: ["enum.DamageStateVisualLayers.Base"]
          state: boar
          sprite: /Textures/_Stalker/Mobs/Mutants/Old_boar.rsi
          scale: 5, 5
    - type: SlowOnDamage
      speedModifierThresholds:
        9999999: 0.7
    - type: StaminaDamageOnHit
      damage: 300
    - type: STWeight
      self: 100
    - type: Jumpscare
      chargeDamage:
        types:
          Blunt: 25
      jumpPower: 4
      jumpDistance: 6
      updateCooldown: 0.25
      totalSteps: 6
      stepInterval: 0.001
    - type: AnnounceOnSpawn
      message: Великий Кабан пробудился!
      sender: великий кабан
      sound:
        path: /Audio/_Stalker/boss.ogg
      color: "#8B4513"
    - type: SpawnOnDespawn
      prototype: STMobMutantMegaBoarStage2

#####################
- type: entity
  parent: BaseMobMutant
  id: STMobMutantMegaBoarStage2
  name: великий кабан
  description: A large and aggressive mutant beast, mutated from a wild boar. A beast weighing three hundred kilos is not your toy!
  components:
    - type: Damageable
      damageModifierSet: STMutantBoarDamageModifierSet
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 50000
          behaviors:
            - !type:DoActsBehavior
              acts: ["Destruction"]
    - type: DamageStateVisuals
      states:
        Alive:
          Base: boar
        Critical:
          Base: dead
        Dead:
          Base: dead
    - type: Fixtures
      fixtures:
        fix1:
          shape:
            !type:PhysShapeCircle
            radius: 1
          density: 1000
          mask:
            - MobMask
          layer:
            - MobLayer
    - type: FootstepModifier
      footstepSoundCollection:
        path: /Audio/_Stalker/Mutants/step_hoof_asphalt5.ogg
        params:
          volume: 5
          variation: 0.3
    - type: MobThresholds
      thresholds:
        0: Alive
        999999999: Dead
    - type: MeleeWeapon
      attackRate: 0.5
      heavyWindupModifier: 1
      heavyDamageModifier: 1.5
      angle: 30
      range: 1.5
      soundHit:
        path: /Audio/_Stalker/Mutants/boar_attack_1.ogg
        params:
          variation: 0.125
      soundSwing:
        path: /Audio/_Stalker/Mutants/boar_aggressive_3.ogg
        params:
          variation: 0.125
      animation: WeaponArcClaw
      wideAnimation: WeaponArcClaw
      damage:
        types:
          Blunt: 23
    - type: MovementSpeedModifier
      baseWalkSpeed: 6
      baseSprintSpeed: 6
    - type: Sprite
      layers:
        - map: ["enum.DamageStateVisualLayers.Base"]
          state: boar
          sprite: /Textures/_Stalker/Mobs/Mutants/Old_boar.rsi
          scale: 2, 2
    - type: SlowOnDamage
      speedModifierThresholds:
        9999999: 0.7
    - type: StaminaDamageOnHit
      damage: 25
    - type: STWeight
      self: 25
    - type: AnnounceOnSpawn
      message: Великий Кабан переходит в стадию - 2!
      sender: великий кабан
      sound:
        path: /Audio/_Stalker/boss.ogg
      color: "#8B4513"
    - type: NPCUseAction
      actionId: ActionPsyonicsShieldMutant
    - type: Psyonics
      psy: 1000000
    - type: PsyonicsActionShield
      cost: 0
      periodSeconds: 5
      health: 600
      actionId: ActionPsyonicsShieldMutant
    - type: PsyonicsShieldVisuals
      sprite: _Stalker/Effects/psyonic_shield.rsi
      state: Standing
    - type: Timer
    - type: TimedSpawner
      prototypes:
        - STMobMutantMegaBoarStage2Copy
      chance: 1
      intervalSeconds: 1
      minimumEntitiesSpawned: 1
      maximumEntitiesSpawned: 3
    - type: SpawnOnDespawn
      prototype: STMobMutantMegaBoarStage3

- type: entity
  parent: BaseMobMutant
  id: STMobMutantMegaBoarStage2Copy
  name: великий кабан
  description: A large and aggressive mutant beast, mutated from a wild boar. A beast weighing three hundred kilos is not your toy!
  components:
    - type: Damageable
      damageModifierSet: STMutantBoarDamageModifierSet
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 75
          behaviors:
            - !type:DoActsBehavior
              acts: ["Destruction"]
    - type: DamageStateVisuals
      states:
        Alive:
          Base: boar
        Critical:
          Base: dead
        Dead:
          Base: dead
    - type: Fixtures
      fixtures:
        fix1:
          shape:
            !type:PhysShapeCircle
            radius: 1
          density: 1000
          mask:
            - MobMask
          layer:
            - MobLayer
    - type: FootstepModifier
      footstepSoundCollection:
        path: /Audio/_Stalker/Mutants/step_hoof_asphalt5.ogg
        params:
          volume: 5
          variation: 0.3
    - type: MobThresholds
      thresholds:
        0: Alive
        999999999: Dead
    - type: MeleeWeapon
      attackRate: 0.5
      heavyWindupModifier: 1
      heavyDamageModifier: 1.5
      angle: 30
      range: 1.5
      soundHit:
        path: /Audio/_Stalker/Mutants/boar_attack_1.ogg
        params:
          variation: 0.125
      soundSwing:
        path: /Audio/_Stalker/Mutants/boar_aggressive_3.ogg
        params:
          variation: 0.125
      animation: WeaponArcClaw
      wideAnimation: WeaponArcClaw
      damage:
        types:
          Blunt: 23
    - type: MovementSpeedModifier
      baseWalkSpeed: 6
      baseSprintSpeed: 6
    - type: Sprite
      layers:
        - map: ["enum.DamageStateVisualLayers.Base"]
          state: boar
          sprite: /Textures/_Stalker/Mobs/Mutants/Old_boar.rsi
          scale: 2, 2
    - type: SlowOnDamage
      speedModifierThresholds:
        9999999: 0.7
    - type: StaminaDamageOnHit
      damage: 25
    - type: STWeight
      self: 25


#################################################################
- type: entity
  parent: BaseMobMutant
  id: STMobMutantMegaBoarStage3
  name: великий кабан
  description: A large and aggressive mutant beast, mutated from a wild boar. A beast weighing three hundred kilos is not your toy!
  components:
    - type: Damageable
      damageModifierSet: STMutantBoarDamageModifierSet
    - type: Destructible
      thresholds:
        - trigger:
            !type:DamageTrigger
            damage: 75000
          behaviors:
            - !type:DoActsBehavior
              acts: ["Destruction"]
    - type: DamageStateVisuals
      states:
        Alive:
          Base: boar
        Critical:
          Base: dead
        Dead:
          Base: dead
    - type: Fixtures
      fixtures:
        fix1:
          shape:
            !type:PhysShapeCircle
            radius: 1.5
          density: 1000
          mask:
            - MobMask
          layer:
            - MobLayer
    - type: FootstepModifier
      footstepSoundCollection:
        path: /Audio/_Stalker/Mutants/step_hoof_asphalt5.ogg
        params:
          volume: 5
          variation: 0.3
    - type: MobThresholds
      thresholds:
        0: Alive
        999999999: Dead
    - type: MeleeWeapon
      attackRate: 0.3
      heavyWindupModifier: 1
      heavyDamageModifier: 1.5
      angle: 30
      range: 1.5
      soundHit:
        path: /Audio/_Stalker/Mutants/boar_attack_1.ogg
        params:
          variation: 0.125
      soundSwing:
        path: /Audio/_Stalker/Mutants/boar_aggressive_3.ogg
        params:
          variation: 0.125
      animation: WeaponArcClaw
      wideAnimation: WeaponArcClaw
      damage:
        types:
          Blunt: 25
    - type: MovementSpeedModifier
      baseWalkSpeed: 4
      baseSprintSpeed: 4
    - type: Sprite
      layers:
        - map: ["enum.DamageStateVisualLayers.Base"]
          state: boar
          sprite: /Textures/_Stalker/Mobs/Mutants/Old_boar.rsi
          scale: 2, 2
    - type: SlowOnDamage
      speedModifierThresholds:
        9999999: 0.7
    - type: StaminaDamageOnHit
      damage: 25
    - type: STWeight
      self: 75
    - type: AnnounceOnSpawn
      message: Великий Кабан переходит в стадию - 3!
      sender: великий кабан
      sound:
        path: /Audio/_Stalker/boss.ogg
      color: "#8B4513"
    - type: Psyonics
      psy: 1000000
    - type: PsyonicsActionSmoke
      actionId: ActionPsyonicsSmokeMutant
      cost: 1
      duration: 1
      spreadAmount: 2
      quantity: 5
    - type: NPCUseAction
      actionId: ActionPsyonicsSmokeMutant
    - type: PsyonicsShieldVisuals
      sprite: _Stalker/Effects/psyonic_shield.rsi
      state: Standing
    - type: RechargeBasicEntityAmmo
      rechargeCooldown: 0.5
    - type: BasicEntityAmmoProvider
      proto: STBulletBox
      capacity: 1
      count: 1
    - type: Gun
      fireRate: 0.5
      useKey: false
      projectileSpeed: 15
      selectedMode: FullAuto
      availableModes:
        - FullAuto
      soundGunshot: /Audio/_Stalker/Mutants/boar_aggressive_3.ogg
    - type: Jumpscare
      chargeDamage:
        types:
          Blunt: 25
      jumpPower: 4
      jumpDistance: 6
      updateCooldown: 0.25
      totalSteps: 6
      stepInterval: 0.001
    - type: SpawnOnDespawn
      prototype: STMobMutantMegaBoarStage2
